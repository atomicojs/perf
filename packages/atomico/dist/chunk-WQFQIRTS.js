function j(e,t){let o=e.length;if(o!==t.length)return!1;for(let r=0;r<o;r++)if(e[r]!==t[r])return!1;return!0}var E=e=>typeof e=="function",x=e=>typeof e=="object",{isArray:U}=Array,g=e=>"hydrate"in(e?.dataset||{});function A(e,t){let o,r=s=>{let{length:i}=s;for(let u=0;u<i;u++){let l=s[u];if(l&&Array.isArray(l))r(l);else{let n=typeof l;if(l==null||n==="function"||n==="boolean")continue;n==="string"||n==="number"?(o==null&&(o=""),o+=l):(o!=null&&(t(o),o=null),t(l))}}};r(e),o!=null&&t(o)}var R=class{constructor(t,o,r){this.message=o,this.target=t,this.value=r}};var M=null,tt={true:1,"":1,1:1};function q(e,t,o,r,s){let{type:i,reflect:u,event:l,value:n,attr:f=et(t)}=x(o)&&o!=M?o:{type:o},m=!(i==Function||i==M);Object.defineProperty(e,t,{configurable:!0,set(p){let c=this[t],{error:h,value:d}=ot(i,m&&E(p)?p(c):p);if(h&&d!=null)throw new R(this,`The value defined for prop '${t}' must be of type '${i.name}'`,d);c!=d&&(this._props[t]=d,this.update(),l&&G(this,l),this.updated.then(()=>{u&&(this._ignoreAttr=f,rt(this,i,f,this[t]),this._ignoreAttr=null)}))},get(){return this._props[t]}}),n!=null&&(s[t]=n),r[f]={prop:t,type:i}}var G=(e,{type:t,base:o=CustomEvent,...r})=>e.dispatchEvent(new o(t,r)),et=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),rt=(e,t,o,r)=>r==null||t==Boolean&&!r?e.removeAttribute(o):e.setAttribute(o,x(r)?JSON.stringify(r):t==Boolean?"":r),J=(e,t)=>e==Boolean?!!tt[t]:e==Number?Number(t):e==Array||e==Object?JSON.parse(t):t,ot=(e,t)=>e==null||t==null?{value:t,error:!1}:e!=String&&t===""?{value:null,error:!1}:e==Object||e==Array||e==Symbol?{value:t,error:{}.toString.call(t)!==`[object ${e.name}]`}:t instanceof e?{value:t,error:e==Number&&Number.isNaN(t.valueOf())}:e==String||e==Number||e==Boolean?{value:t,error:e==Number?typeof t!="number"?!0:Number.isNaN(t):e==String?typeof t!="string":typeof t!="boolean"}:{value:t,error:!0};var P;function O(e,t,o){let{i:r,hooks:s}=P,i=s[r]=s[r]||{};return i[0]=e(i[0]),i[1]=t,i[2]=o,P.i++,s[r][0]}var z=e=>O((t={current:e})=>t),T=()=>z(P.host);function K(e,t){let o={};function r(u,l){for(let n in o){let f=o[n];f[u]&&(f[0]=f[u](f[0],l))}}function s(u){P={host:t,hooks:o,update:e,i:0};let l;try{l=u()}finally{P=null}return l}function i(u){return r(1,u),()=>{r(2,u),u&&(o={})}}return{load:s,cleanEffects:i}}var y={sheet:!!document.adoptedStyleSheets};function Y(e,t=HTMLElement){let o={},r={},{props:s,styles:i}=e;return class extends t{constructor(){super(),this._setup(),this._render=()=>e({...this._props});for(let l in r)this[l]=r[l]}static get styles(){return[super.styles,i]}async _setup(){if(this._props)return;this._props={},this.mounted=new Promise(p=>this.mount=p),this.unmounted=new Promise(p=>this.unmount=p),this.symbolId=this.symbolId||Symbol();let l=K(()=>this.update(),this),n,f=!0,m=g(this);this.update=()=>(n||(n=!0,this.updated=(this.updated||this.mounted).then(()=>{try{let p=l.load(this._render);return p&&p.render(this,this.symbolId,m),n=!1,f&&(f=!1,!m&&st(this)),l.cleanEffects()}finally{n=!1}}).then(p=>{p&&p()})),this.updated),this.update(),await this.unmounted,l.cleanEffects(!0)()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}async disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),await this.mounted,!this.isConnected&&this.unmount()}attributeChangedCallback(l,n,f){if(o[l]){if(l===this._ignoreAttr||n===f)return;let{prop:m,type:p}=o[l];this[m]=J(p,f)}else super.attributeChangedCallback(l,n,f)}static get props(){return{...super.props,...s}}static get observedAttributes(){let l=super.observedAttributes||[];for(let n in s)q(this.prototype,n,s[n],o,r);return Object.keys(o).concat(l)}}}function st(e){let{styles:t}=e.constructor,{shadowRoot:o}=e;if(o&&t.length)if(y.sheet){let r=[];A(t,s=>s&&r.push(s)),o.adoptedStyleSheets=r}else A(t,r=>r&&o.appendChild(r.cloneNode(!0)))}var W=e=>(t,o)=>{let r=([s,i],u)=>{if(u)E(s)&&s();else return[s||t(),i]};O(([s,i]=[])=>((i||!i)&&(i&&j(i,o)?s=s||!0:(E(s)&&s(),s=null)),[s,o]),e==1&&r,e==2&&r)},jt=W(1),Mt=W(2);function X(e){let t=T();if(e in t.current){if(!t[e]){let o=[null,r=>t.current[e]=r];t[e]=o}return t[e][0]=t.current[e],t[e]}}var lt={checked:1,value:1,selected:1},nt={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},ft={shadowDom:1,staticNode:1,cloneNode:1,children:1,key:1},$={},v=[],_=document,S=class extends Text{},L=Symbol.for,ut=L("Atomico.ID"),F=L("Atomico.$$"),H=L("Atomico.REF");function ct(e,t,o){return k(this,e,t,o)}function b(e,t,...o){let r=t||$,{children:s}=r;s=s??(o.length?o:v);let i=e?e instanceof Node?1:e.prototype instanceof HTMLElement&&2:!1;return{$$:F,type:e,props:r,children:s,key:r.key,shadow:r.shadowDom,static:r.staticNode,raw:i,is:r.is,clone:r.cloneNode,render:y.render||ct}}function k(e,t,o=ut,r,s){let i;if(t&&t[o]&&t[o].vnode==e||e.$$!=F)return t;(e||!t)&&(s=s||e.type=="svg",i=e.type!="host"&&(e.raw==1?(t&&e.clone?t[H]:t)!=e.type:e.raw==2?!(t instanceof e.type):t?t[H]||t.localName!=e.type:!t),i&&e.type!=null&&(e.raw==1&&e.clone?(r=!0,t=e.type.cloneNode(!0),t[H]=e.type):t=e.raw==1?e.type:e.raw==2?new e.type:s?_.createElementNS("http://www.w3.org/2000/svg",e.type):_.createElement(e.type,e.is?{is:e.is}:void 0)));let{vnode:u=$,cycle:l=0,fragment:n,handlers:f}=t[o]?t[o]:$,{children:m=v,props:p=$}=u;if(f=i?{}:f||{},e.static&&!i)return t;if(e.shadow&&!t.shadowRoot&&t.attachShadow({mode:"open"}),e.props!=p&&ht(t,p,e.props,f,s),e.children!==m){let c=e.shadow?t.shadowRoot:t;n=mt(e.children,n,c,o,!l&&r,s&&e.type=="foreignObject"?!1:s)}return l++,t[o]={vnode:e,handlers:f,fragment:n,cycle:l},t}function pt(e,t){let o=new S(""),r=new S(""),s;if(e[t?"prepend":"append"](o),t){let{firstElementChild:i}=e;for(;i;){if(g(i)){s=i;break}i=i.nextElementSibling}}return s?e.insertBefore(r,s):e.append(r),{markStart:o,markEnd:r}}function mt(e,t,o,r,s,i){e=e==null?null:U(e)?e:[e];let u=t||pt(o,s),{markStart:l,markEnd:n,keyes:f}=u,m,p=f&&new Set,c=l;if(e&&A(e,h=>{if(typeof h=="object"&&h.$$!=F)return;let C=h.$$&&h.key,B=f&&C!=null&&f.get(C);c!=n&&c===B?p.delete(c):c=c==n?n:c.nextSibling;let N=f?B:c,a=N;if(h.$$)a=k(h,N,r,s,i);else{let D=h+"";!(a instanceof Text)||a instanceof S?a=new Text(D):a.data!=D&&(a.data=D)}a!=c&&(f&&p.delete(a),!N||f?(o.insertBefore(a,c),f&&c!=n&&p.add(c)):N==n?o.insertBefore(a,n):(o.replaceChild(a,N),c=a)),C!=null&&(m=m||new Map,m.set(C,a))}),c=c==n?n:c.nextSibling,t&&c!=n)for(;c!=n;){let h=c;c=c.nextSibling,h.remove()}return p&&p.forEach(h=>h.remove()),u.keyes=m,u}function ht(e,t,o,r,s){for(let i in t)!(i in o)&&Z(e,i,t[i],null,s,r);for(let i in o)Z(e,i,t[i],o[i],s,r)}function Z(e,t,o,r,s,i){if(t=t=="class"&&!s?"className":t,o=o??null,r=r??null,t in e&&lt[t]&&(o=e[t]),!(r===o||ft[t]||t[0]=="_"))if(t[0]=="o"&&t[1]=="n"&&(E(r)||E(o)))at(e,t.slice(2),r,i);else if(t=="ref")r&&(E(r)?r(e):r.current=e);else if(t=="style"){let u=e.style;o=o||"",r=r||"";let l=x(o),n=x(r);if(l)for(let f in o)if(n)!(f in r)&&Q(u,f,null);else break;if(n)for(let f in r){let m=r[f];l&&o[f]===m||Q(u,f,m)}else u.cssText=r}else{let u=t[0]=="$"?t.slice(1):t;u===t&&(!s&&!nt[t]&&t in e||E(r)||E(o))?e[t]=r??"":r==null?e.removeAttribute(u):e.setAttribute(u,x(r)?JSON.stringify(r):r)}}function at(e,t,o,r){if(r.handleEvent||(r.handleEvent=s=>r[s.type].call(e,s)),o){if(!r[t]){let s=o.capture||o.once||o.passive?Object.assign({},o):null;e.addEventListener(t,r,s)}r[t]=o}else r[t]&&(e.removeEventListener(t,r),delete r[t])}function Q(e,t,o){let r="setProperty";o==null&&(r="removeProperty",o=null),~t.indexOf("-")?e[r](t,o):e[t]=o}var V={};function I(e,...t){let o=(e.raw||e).reduce((r,s,i)=>r+s+(t[i]||""),"");return V[o]=V[o]||Et(o)}function Et(e){if(y.sheet){let t=new CSSStyleSheet;return t.replaceSync(e),t}else{let t=_.createElement("style");return t.textContent=e,t}}function w(){let[e,t]=X("count");return b("host",{shadowDom:!0,children:[b("button",{onclick:()=>t(e-1),children:"-"}),b("span",{children:e}),b("button",{onclick:()=>t(e+1),children:"+"})]})}w.props={count:{type:Number,value:0}};w.styles=I`*{font-size:200%}span{width:4rem;display:inline-block;text-align:center}button{width:4rem;height:4rem;border:none;border-radius:10px;background-color:#2e8b57;color:#fff}`;var bt=Y(w);customElements.define("my-counter",bt);export{bt as a};
