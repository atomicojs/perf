function j(t,e){let o=t.length;if(o!==e.length)return!1;for(let r=0;r<o;r++)if(t[r]!==e[r])return!1;return!0}var E=t=>typeof t=="function",x=t=>typeof t=="object",{isArray:B}=Array,g=t=>"hydrate"in(t?.dataset||{});function N(t,e){let o,r=s=>{let{length:i}=s;for(let u=0;u<i;u++){let l=s[u];if(l&&Array.isArray(l))r(l);else{let n=typeof l;if(l==null||n==="function"||n==="boolean")continue;n==="string"||n==="number"?(o==null&&(o=""),o+=l):(o!=null&&(e(o),o=null),e(l))}}};r(t),o!=null&&e(o)}var R=class{constructor(e,o,r){this.message=o,this.target=e,this.value=r}};var M=null,tt={true:1,"":1,1:1};function U(t,e,o,r,s){let{type:i,reflect:u,event:l,value:n,attr:f=et(e)}=x(o)&&o!=M?o:{type:o},m=!(i==Function||i==M);Object.defineProperty(t,e,{configurable:!0,set(p){let c=this[e],{error:h,value:d}=ot(i,m&&E(p)?p(c):p);if(h&&d!=null)throw new R(this,`The value defined for prop '${e}' must be of type '${i.name}'`,d);c!=d&&(this._props[e]=d,this.update(),l&&q(this,l),this.updated.then(()=>{u&&(this._ignoreAttr=f,rt(this,i,f,this[e]),this._ignoreAttr=null)}))},get(){return this._props[e]}}),n!=null&&(s[e]=n),r[f]={prop:e,type:i}}var q=(t,{type:e,base:o=CustomEvent,...r})=>t.dispatchEvent(new o(e,r)),et=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase(),rt=(t,e,o,r)=>r==null||e==Boolean&&!r?t.removeAttribute(o):t.setAttribute(o,x(r)?JSON.stringify(r):e==Boolean?"":r),G=(t,e)=>t==Boolean?!!tt[e]:t==Number?Number(e):t==Array||t==Object?JSON.parse(e):e,ot=(t,e)=>t==null||e==null?{value:e,error:!1}:t!=String&&e===""?{value:null,error:!1}:t==Object||t==Array||t==Symbol?{value:e,error:{}.toString.call(e)!==`[object ${t.name}]`}:e instanceof t?{value:e,error:t==Number&&Number.isNaN(e.valueOf())}:t==String||t==Number||t==Boolean?{value:e,error:t==Number?typeof e!="number"?!0:Number.isNaN(e):t==String?typeof e!="string":typeof e!="boolean"}:{value:e,error:!0};var P;function O(t,e,o){let{i:r,hooks:s}=P,i=s[r]=s[r]||{};return i[0]=t(i[0]),i[1]=e,i[2]=o,P.i++,s[r][0]}var J=t=>O((e={current:t})=>e),T=()=>J(P.host);function z(t,e){let o={};function r(u,l){for(let n in o){let f=o[n];f[u]&&(f[0]=f[u](f[0],l))}}function s(u){P={host:e,hooks:o,update:t,i:0};let l;try{l=u()}finally{P=null}return l}function i(u){return r(1,u),()=>{r(2,u),u&&(o={})}}return{load:s,cleanEffects:i}}var y={sheet:!!document.adoptedStyleSheets};function K(t,e=HTMLElement){let o={},r={},{props:s,styles:i}=t;return class extends e{constructor(){super(),this._setup(),this._render=()=>t({...this._props});for(let l in r)this[l]=r[l]}static get styles(){return[super.styles,i]}async _setup(){if(this._props)return;this._props={},this.mounted=new Promise(p=>this.mount=p),this.unmounted=new Promise(p=>this.unmount=p),this.symbolId=this.symbolId||Symbol();let l=z(()=>this.update(),this),n,f=!0,m=g(this);this.update=()=>(n||(n=!0,this.updated=(this.updated||this.mounted).then(()=>{try{let p=l.load(this._render);return p&&p.render(this,this.symbolId,m),n=!1,f&&(f=!1,!m&&st(this)),l.cleanEffects()}finally{n=!1}}).then(p=>{p&&p()})),this.updated),this.update(),await this.unmounted,l.cleanEffects(!0)()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}async disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),await this.mounted,!this.isConnected&&this.unmount()}attributeChangedCallback(l,n,f){if(o[l]){if(l===this._ignoreAttr||n===f)return;let{prop:m,type:p}=o[l];this[m]=G(p,f)}else super.attributeChangedCallback(l,n,f)}static get props(){return{...super.props,...s}}static get observedAttributes(){let l=super.observedAttributes||[];for(let n in s)U(this.prototype,n,s[n],o,r);return Object.keys(o).concat(l)}}}function st(t){let{styles:e}=t.constructor,{shadowRoot:o}=t;if(o&&e.length)if(y.sheet){let r=[];N(e,s=>s&&r.push(s)),o.adoptedStyleSheets=r}else N(e,r=>r&&o.appendChild(r.cloneNode(!0)))}var Y=t=>(e,o)=>{let r=([s,i],u)=>{if(u)E(s)&&s();else return[s||e(),i]};O(([s,i]=[])=>((i||!i)&&(i&&j(i,o)?s=s||!0:(E(s)&&s(),s=null)),[s,o]),t==1&&r,t==2&&r)},jt=Y(1),Mt=Y(2);function W(t){let e=T();if(t in e.current){if(!e[t]){let o=[null,r=>e.current[t]=r];e[t]=o}return e[t][0]=e.current[t],e[t]}}var lt={checked:1,value:1,selected:1},nt={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},ft={shadowDom:1,staticNode:1,cloneNode:1,children:1,key:1},$={},Q=[],_=document,S=class extends Text{},L=Symbol.for,ut=L("Atomico.ID"),F=L("Atomico.$$"),H=L("Atomico.REF");function ct(t,e,o){return k(this,t,e,o)}function b(t,e,...o){let r=e||$,{children:s}=r;s=s??(o.length?o:Q);let i=t?t instanceof Node?1:t.prototype instanceof HTMLElement&&2:!1;return{$$:F,type:t,props:r,children:s,key:r.key,shadow:r.shadowDom,static:r.staticNode,raw:i,is:r.is,clone:r.cloneNode,render:y.render||ct}}function k(t,e,o=ut,r,s){let i;if(e&&e[o]&&e[o].vnode==t||t.$$!=F)return e;(t||!e)&&(s=s||t.type=="svg",i=t.type!="host"&&(t.raw==1?(e&&t.clone?e[H]:e)!=t.type:t.raw==2?!(e instanceof t.type):e?e[H]||e.localName!=t.type:!e),i&&t.type!=null&&(t.raw==1&&t.clone?(r=!0,e=t.type.cloneNode(!0),e[H]=t.type):e=t.raw==1?t.type:t.raw==2?new t.type:s?_.createElementNS("http://www.w3.org/2000/svg",t.type):_.createElement(t.type,t.is?{is:t.is}:void 0)));let{vnode:u=$,cycle:l=0,fragment:n,handlers:f}=e[o]?e[o]:$,{children:m=Q,props:p=$}=u;if(f=i?{}:f||{},t.static&&!i)return e;if(t.shadow&&!e.shadowRoot&&e.attachShadow({mode:"open"}),t.props!=p&&ht(e,p,t.props,f,s),t.children!==m){let c=t.shadow?e.shadowRoot:e;n=mt(t.children,n,c,o,!l&&r,s&&t.type=="foreignObject"?!1:s)}return l++,e[o]={vnode:t,handlers:f,fragment:n,cycle:l},e}function pt(t,e){let o=new S(""),r=new S(""),s;if(t[e?"prepend":"append"](o),e){let{firstElementChild:i}=t;for(;i;){if(g(i)){s=i;break}i=i.nextElementSibling}}return s?t.insertBefore(r,s):t.append(r),{markStart:o,markEnd:r}}function mt(t,e,o,r,s,i){t=t==null?null:B(t)?t:[t];let u=e||pt(o,s),{markStart:l,markEnd:n,keyes:f}=u,m,p=f&&new Set,c=l;if(t&&N(t,h=>{if(typeof h=="object"&&h.$$!=F)return;let C=h.$$&&h.key,w=f&&C!=null&&f.get(C);c!=n&&c===w?p.delete(c):c=c==n?n:c.nextSibling;let A=f?w:c,a=A;if(h.$$)a=k(h,A,r,s,i);else{let D=h+"";!(a instanceof Text)||a instanceof S?a=new Text(D):a.data!=D&&(a.data=D)}a!=c&&(f&&p.delete(a),!A||f?(o.insertBefore(a,c),f&&c!=n&&p.add(c)):A==n?o.insertBefore(a,n):(o.replaceChild(a,A),c=a)),C!=null&&(m=m||new Map,m.set(C,a))}),c=c==n?n:c.nextSibling,e&&c!=n)for(;c!=n;){let h=c;c=c.nextSibling,h.remove()}return p&&p.forEach(h=>h.remove()),u.keyes=m,u}function ht(t,e,o,r,s){for(let i in e)!(i in o)&&X(t,i,e[i],null,s,r);for(let i in o)X(t,i,e[i],o[i],s,r)}function X(t,e,o,r,s,i){if(e=e=="class"&&!s?"className":e,o=o??null,r=r??null,e in t&&lt[e]&&(o=t[e]),!(r===o||ft[e]||e[0]=="_"))if(e[0]=="o"&&e[1]=="n"&&(E(r)||E(o)))at(t,e.slice(2),r,i);else if(e=="ref")r&&(E(r)?r(t):r.current=t);else if(e=="style"){let u=t.style;o=o||"",r=r||"";let l=x(o),n=x(r);if(l)for(let f in o)if(n)!(f in r)&&Z(u,f,null);else break;if(n)for(let f in r){let m=r[f];l&&o[f]===m||Z(u,f,m)}else u.cssText=r}else{let u=e[0]=="$"?e.slice(1):e;u===e&&(!s&&!nt[e]&&e in t||E(r)||E(o))?t[e]=r??"":r==null?t.removeAttribute(u):t.setAttribute(u,x(r)?JSON.stringify(r):r)}}function at(t,e,o,r){if(r.handleEvent||(r.handleEvent=s=>r[s.type].call(t,s)),o){if(!r[e]){let s=o.capture||o.once||o.passive?Object.assign({},o):null;t.addEventListener(e,r,s)}r[e]=o}else r[e]&&(t.removeEventListener(e,r),delete r[e])}function Z(t,e,o){let r="setProperty";o==null&&(r="removeProperty",o=null),~e.indexOf("-")?t[r](e,o):t[e]=o}var v={};function I(t,...e){let o=(t.raw||t).reduce((r,s,i)=>r+s+(e[i]||""),"");return v[o]=v[o]||Et(o)}function Et(t){if(y.sheet){let e=new CSSStyleSheet;return e.replaceSync(t),e}else{let e=_.createElement("style");return e.textContent=t,e}}function V(){let[t,e]=W("count");return console.log(t),b("host",{shadowDom:!0,children:[b("button",{onclick:()=>e(t-1),children:"-"}),b("span",{children:t}),b("button",{onclick:()=>e(t+1),children:"+"})]})}V.styles=I`*{font-size:200%}span{width:4rem;display:inline-block;text-align:center}button{width:4rem;height:4rem;border:none;border-radius:10px;background-color:#2e8b57;color:#fff}`;var bt=K(V);customElements.define("my-counter",bt);export{bt as a};
